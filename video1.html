<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Telugubomma – Video</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- CANONICAL -->
<link rel="canonical" href="https://www.telugubomma.online/video1.html">

<style>
body {
  margin: 0;
  background: #000;
  color: #fff;
  font-family: Arial, sans-serif;
  text-align: center;

  user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
}

.container {
  padding: 20px;
}

/* THUMBNAIL */
.thumb-box {
  position: relative;
  max-width: 800px;
  margin: 0 auto;
}

.thumb-box img {
  width: 100%;
  border-radius: 12px;
  pointer-events: none;
}

/* WATCH BUTTON */
.watch-btn {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  padding: 14px 34px;
  font-size: 18px;
  border: none;
  border-radius: 10px;
  background: rgba(0, 255, 0, 0.9);
  color: #000;
  cursor: pointer;
}
.watch-btn:hover {
  background: #22ff22;
}

/* VIDEO */
video {
  width: 100%;
  max-width: 800px;
  display: none;
  margin-top: 20px;
}

/* BACK */
.back-btn {
  margin-top: 25px;
  padding: 10px 24px;
  font-size: 15px;
  border-radius: 8px;
  border: 1px solid #333;
  background: #111;
  color: #00ff00;
  cursor: pointer;
}
.back-btn:hover {
  background: #1a1a1a;
}
</style>
</head>

<body>

<div class="container">
  <h2>Video</h2>

  <!-- THUMB -->
  <div class="thumb-box" id="thumbBox">
    <img id="thumbImage" src="" alt="Video Thumbnail">
    <button class="watch-btn" id="watchBtn">▶ Watch / Download</button>
  </div>

  <!-- PLAYER -->
  <video id="player" controls preload="metadata">
    <source id="videoSource" src="" type="video/mp4">
  </video>

  <button class="back-btn" onclick="location.href='home.html'">⬅ Back</button>
</div>

<script>
/* ===============================
   AUTO FILE DETECTION
================================ */
const page = location.pathname.split("/").pop();
const match = page.match(/video(\d+)\.html/);

if (match) {
  const n = match[1];

  // Thumbnail
  document.getElementById("thumbImage").src =
    `assets/video${n}.jpg`;

  // Video (Worker URL)
  document.getElementById("videoSource").src =
    `https://billowing-shadow-579f.mailforwebsite7.workers.dev/stream/${n}.mp4`;
}

/* ===============================
   CLICK LOGIC (SECURE)
================================ */
let opened = false;

document.getElementById("watchBtn").onclick = () => {
  if (!opened) {
    const popup = window.open("https://www.youtube.com", "_blank");

    if (!popup) {
      alert("⚠ Please allow popups to continue");
      return;
    }

    opened = true;
    return;
  }

  document.getElementById("thumbBox").style.display = "none";
  const v = document.getElementById("player");
  v.style.display = "block";
  v.play();
};

/* ===============================
   BASIC HARDENING
================================ */
document.addEventListener("contextmenu", e => e.preventDefault());
document.addEventListener("copy", e => e.preventDefault());
document.addEventListener("cut", e => e.preventDefault());
document.addEventListener("selectstart", e => e.preventDefault());

setInterval(() => {
  if (
    window.outerWidth - window.innerWidth > 200 ||
    window.outerHeight - window.innerHeight > 200
  ) {
    console.clear();
  }
}, 1000);
</script>

</body>
</html>
